<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head><body><p class="s2" style="padding-top: 24pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Introduction</p><p style="padding-top: 9pt;padding-left: 5pt;text-indent: 0pt;line-height: 114%;text-align: left;">An API is requested for an application like ChatGPT. Every time users open the application, device information will be sent to the /auth method by the application. If this endpoint is not previously registered, it should register it to the system and it should send subscription status (premium) and configuration data for application management (chat credit, chat history, etc.) as a response. In case the user makes an in-app purchase, this purchase transaction should be recorded and the user should be made premium. It is expected to have a chat credit according to the package the user purchased. A simple admin panel is needed to view all purchase transactions. There is no design expectation in this panel.</p><p style="padding-top: 1pt;text-indent: 0pt;text-align: left;"><br></p><ol id="l1"><li data-list-text="1."><p style="padding-left: 41pt;text-indent: -18pt;line-height: 114%;text-align: left;">An endpoint should be created to get the user's premium status and basic config information, if any, every time the device is opened. There is no password or session information for users.</p><ol id="l2"><li data-list-text="a."><h1 style="padding-left: 76pt;text-indent: -17pt;text-align: left;">Endpoint: <span class="p">/auth</span></h1></li><li data-list-text="b."><h1 style="padding-top: 1pt;padding-left: 76pt;text-indent: -17pt;text-align: left;">Method<span class="p">: POST</span></h1></li><li data-list-text="c."><h1 style="padding-top: 1pt;padding-left: 76pt;text-indent: -17pt;text-align: left;">Response: <span class="p">JSON (Subscription status and configuration data)</span></h1></li><li data-list-text="d."><h1 style="padding-top: 1pt;padding-left: 76pt;text-indent: -17pt;text-align: left;">Request: <span class="p">{</span></h1><h1 style="padding-top: 1pt;padding-left: 83pt;text-indent: 0pt;text-align: left;">device_uuid<span class="p">: string,</span></h1><h1 style="padding-top: 1pt;padding-left: 83pt;text-indent: 0pt;text-align: left;">device_name<span class="p">: string,</span></h1><p style="padding-top: 1pt;padding-left: 77pt;text-indent: 0pt;text-align: left;">}</p></li></ol></li><li data-list-text="2."><p style="padding-top: 1pt;padding-left: 41pt;text-indent: -18pt;line-height: 114%;text-align: left;">An endpoint should be created to send subscription information after the purchase transaction. It should be possible to determine which device made the purchase transaction with the access token.</p><ol id="l3"><li data-list-text="a."><h1 style="padding-left: 76pt;text-indent: -17pt;text-align: left;">Endpoint: <span class="p">/subscription</span></h1></li><li data-list-text="b."><h1 style="padding-top: 1pt;padding-left: 76pt;text-indent: -17pt;text-align: left;">Method: <span class="p">POST</span></h1></li><li data-list-text="c."><h1 style="padding-top: 1pt;padding-left: 76pt;text-indent: -17pt;text-align: justify;">Request Parameters:</h1><ol id="l4"><li data-list-text="i."><h1 style="padding-top: 1pt;padding-left: 112pt;text-indent: -23pt;text-align: justify;">productId: <span class="p">string</span></h1></li><li data-list-text="ii."><h1 style="padding-top: 1pt;padding-left: 112pt;text-indent: -25pt;text-align: justify;">receiptToken: <span class="p">long text</span></h1></li></ol></li><li data-list-text="d."><h1 style="padding-top: 1pt;padding-left: 76pt;text-indent: -17pt;text-align: justify;">Response: <span class="p">JSON (Subscription status positive/negative)</span></h1></li></ol></li><li data-list-text="3."><p style="padding-top: 1pt;padding-left: 41pt;text-indent: -18pt;line-height: 114%;text-align: justify;">An endpoint should be created to talk with the ChatGPT bot. Credit control should be done according to the user's subscription status. A unique chatId needs to be created for the chat to continue.</p><ol id="l5"><li data-list-text="a."><h1 style="padding-left: 76pt;text-indent: -17pt;text-align: justify;">Endpoint: <span class="p">/chat</span></h1></li><li data-list-text="b."><h1 style="padding-top: 1pt;padding-left: 76pt;text-indent: -17pt;text-align: justify;">Method: <span class="p">POST</span></h1></li><li data-list-text="c."><h1 style="padding-top: 1pt;padding-left: 76pt;text-indent: -17pt;text-align: left;">Request Parameters:</h1><ol id="l6"><li data-list-text="i."><h1 style="padding-top: 1pt;padding-left: 112pt;text-indent: -23pt;text-align: left;">chatId: <span class="p">string</span></h1></li><li data-list-text="ii."><h1 style="padding-top: 1pt;padding-left: 112pt;text-indent: -25pt;text-align: left;">message: <span class="p">text</span></h1></li></ol></li><li data-list-text="d."><h1 style="padding-top: 1pt;padding-left: 76pt;text-indent: -17pt;text-align: left;">Response: <span class="p">JSON (The bot's response)</span></h1></li></ol></li><li data-list-text="4."><p style="padding-top: 1pt;padding-left: 41pt;text-indent: -18pt;line-height: 114%;text-align: left;">The saved subscription data should be displayed in the admin panel with the help of a datatable.</p><ol id="l7"><li data-list-text="a."><p style="padding-left: 76pt;text-indent: -17pt;text-align: left;">Only users who are administrators should be able to log into the panel.</p></li></ol></li></ol><p class="s2" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Expected to be used;</p><ol id="l8"><li data-list-text="1."><p style="padding-top: 9pt;padding-left: 40pt;text-indent: -17pt;text-align: left;">Laravel Framework (min 10.x)</p><ol id="l9"><li data-list-text="a."><p style="padding-top: 1pt;padding-left: 76pt;text-indent: -17pt;text-align: left;">Sanctum</p></li><li data-list-text="b."><p style="padding-top: 1pt;padding-left: 76pt;text-indent: -17pt;text-align: left;">Eloquent</p></li><li data-list-text="c."><p style="padding-top: 1pt;padding-left: 76pt;text-indent: -17pt;text-align: left;">Sail</p></li><li data-list-text="d."><p style="padding-top: 1pt;padding-left: 76pt;text-indent: -17pt;text-align: left;">Database migrations</p></li><li data-list-text="e."><p style="padding-top: 1pt;padding-left: 76pt;text-indent: -17pt;text-align: left;">Request validations</p></li></ol></li><li data-list-text="2."><p style="padding-top: 1pt;padding-left: 40pt;text-indent: -17pt;text-align: left;">It's not mandatory but it could be preferred if used.</p><ol id="l10"><li data-list-text="a."><p style="padding-top: 1pt;padding-left: 76pt;text-indent: -17pt;text-align: left;">Swagger for API documentation</p></li><li data-list-text="b."><p style="padding-top: 1pt;padding-left: 76pt;text-indent: -17pt;text-align: left;">Faker</p></li><li data-list-text="c."><p style="padding-top: 1pt;padding-left: 76pt;text-indent: -17pt;text-align: left;">Rate limit</p></li><li data-list-text="d."><p style="padding-top: 1pt;padding-left: 76pt;text-indent: -17pt;text-align: left;">Yajra Datatables</p></li><li data-list-text="e."><p style="padding-top: 1pt;padding-left: 76pt;text-indent: -17pt;text-align: left;">Encryption of API responses</p></li><li data-list-text="f."><p style="padding-top: 1pt;padding-left: 76pt;text-indent: -17pt;text-align: left;">Laravel-permission for admin panel</p></li><li data-list-text="g."><p style="padding-top: 1pt;padding-left: 76pt;text-indent: -17pt;text-align: left;">Unit Testing</p></li></ol></li></ol>
</body></html>
